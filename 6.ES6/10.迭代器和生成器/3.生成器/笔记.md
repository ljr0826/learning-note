# 生成器(Generator)

严重依赖迭代器

1. 什么是生成器？

生成器是一个通过构造函数 Genertor 创建的对象，生成器既是一个迭代器，同时又是一个可迭代对象

2. 如何创建生成器？

生成器的创建必须使用生成器函数(Genertor Function)

3. 如何书写一个生成器函数呢？

```js
//这是一个生成器函数，该函数一定返回一个生成器
function* method() {}
```

4. 生成器函数内部是如何执行的？

生成器函数内部是为了给生成器每一次迭代提供数据的

每次调用生成器的 next 方法，将导致生成器函数运行到下一个 yield 关键字位置

yield 是一个关键字，该关键字只能在生成器函数内部使用，表达"产生"一个迭代数据给 next。

5. 有哪些需要注意的细节？

1). 生成器函数可以有返回值，返回值出现在第一次 done 为 true (即迭代刚结束)的 value 属性中
2). 调用生成器的 next 方法时，可以传递参数，传递的参数会交给 yield 表达式的返回值
3). 第一次调用 next 方法时，传参没有任何意义
4). 在生成器函数内部可以调用其他生成器函数，但是要注意加上`*`号(深入函数内部去迭代)

```js
function* t1() {
  yield "a";
  yield "b";
}
function* test() {
  yield* t1();
  yield 1;
  yield 2;
  yield 3;
}
const generator = test();
```

6. 生成器的其他 api

- return 方法：调用该方法，可以提前结束生成器函数，从而提前让整个迭代过程结束(传递的参数就是 value 值)

- throw 方法：调用该方法，可以在生成器中产生一个错误

> 调用生成器函数并不会导致函数内部的代码执行，它只是简单的给你返回一个生成器对象
