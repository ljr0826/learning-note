<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //柯里化函数：用于固定某个函数的前面的参数，得到一个新的函数，新的函数调用时，接收剩余的参数
      function curry(func, ...args) {
        return function (...subArgs) {
          const allArgs = [...args, ...subArgs];
          if (allArgs.length >= func.length) {
            //参数够了
            return func(...allArgs);
          } else {
            //参数不够
            return curry(func, ...allArgs);
          }
        };
      }

      function cal(a, b, c, d) {
        return a + b * c - d;
      }
      const newCal = curry(cal, 1, 2);

      console.log(cal(1, 2, 3, 4));
      console.log(cal(1, 2, 4, 5));
      console.log(cal(1, 2, 5, 6));
      console.log(cal(1, 2, 6, 7));

      console.log(newCal(3, 4));
      console.log(newCal(4, 5));
      console.log(newCal(5, 6));
      console.log(newCal(6, 7));

      const newCal2 = newCal(8);
      console.log(newCal2(9));
    </script>
  </body>
</html>
