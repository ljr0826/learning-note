# set 集合(用来保存多个数据的数据结构)

本章节学习更多的集合类型。集合：用来保存多个数据结构的

> 一直以来，js 只能使用数组和对象来保存多个数据，缺乏像其他语言那样拥有丰富的集合类型。因此，ES6 新增了两种集合类型(set 和 map)，用于在不同的场景中发挥作用。

**set 用于存放不重复的数据**（可以理解为不重复的数组）

1. 如何创建 set 集合

```js
new Set(); //创建一个空的、没有任何内容的set集合
new Set(iterable可迭代对象); //创建一个具有初始内容的set集合，初始内容来自可迭代对象每一次迭代的结果。而且会帮助可迭代对象去重

const s1 = new Set(); //创建一个空的、没有任何内容的set集合  Set(0) {}
const s2 = new Set([1, 2, 3, 3, 4, 2, 1, 4, 5]); //会自动帮助我们去重  Set(5) {1, 2, 3, 4, 5}
const s3 = new Set("fjklfkw"); //字符串对象也是一个可迭代对象，也可以去重  {"f", "j", "k", "l", "w"}
```

2. 如何对 set 集合进行后续操作(set集合提供的一些实例方法)

- add(数据)：添加一个数据到 set 集合末尾；如果数据已存在，则不进行任何操作（因为set存放的是不重复的数据
  - set集合 使用 Object.is 的方式来判断两个数据是否相等，但是，针对+0 和-0；set 认为是相等

```js
const s1 = new Set();
s1.add(NaN);
s1.add(+0);
s1.add(-0);
s1.add(NaN); //无效代码。因为和set集合内部的某个数据相同
console.log(s1); //Set(2) {NaN, 0}
```

- has(数据)：判断 set 中是否存在对应的数据。也是使用Object.js判断。同理+0和-0认为相同

- delete(数据)：删除匹配的数据，返回是否删除成功

- clear()：清空整个 set 集合

- size属性：获取 set 集合中的元素数量，是一个只读属性，无法重新赋值

3. 如何与数组进行相互转换（即传递数组，并且返回数组）

set集合本身也是一个可迭代对象，每一次迭代的结果就是每一项的值

展开运算符可以展开可迭代对象

```js
//实现对数组去重：去重后得到一个新的数组
const arr = [2, 4, 7, 32, 24, 12, 6, 8, 9, 6, 8, 7, 64, 32];
const newArr = [...new Set(arr)];
console.log(arr, newArr);
//实现字符串去重
const str = "jfiowejwjfihulgdfkjs";
const newStr = [...new Set(str)].join("");
console.log(str, newStr);
```

4. 如何遍历set集合

1). 使用 for-of 循环。因为set集合是一个可迭代对象
2). 使用 set 中的实例方法 forEach(注意：set 集合中不存在下标，因此 forEach 中的回调的第二个参数和第一个参数是一致的，均表示每一项的值)

下标是数组特有的

```js
const s = new Set([1,2,3,6])
for (const item of s) {
  console.log(item);
}
s.forEach((item, i, s) => {
  console.log(item, i, s);
}); 
//注意：数组里面的forEach方法有三个参数：每一项的值、下标、数组本身（下标是数组里面特有的东西）
//但是set集合的forEach方法的三个参数表示：每一项的值、set集合中没有下标但是为了forEach方法的统一也有这个参数但是也表示的值、数组本身
```
