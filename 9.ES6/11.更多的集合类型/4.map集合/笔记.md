# map 集合

es6除了增加set集合外，还考虑到键值对的存储---->map集合

键值对(key value pair)数据集合的特点：**键不可重复**。

**map 集合专门用于存储多个键值对数据**（必须请求头里面就有很多键值对数据

在 map 出现之前，我们使用的是对象的方式来存储键值对，键是属性名，值是属性值

使用对象存储键值对有以下问题：（在大部分场景下这些都不是问题，所以使用对象不用过分顾虑）
1. 键名只能是字符串或符号属性
2. 获取数据的数量不方便。（实际上是获取属性的数量，Object.keys等方法）
3. 键名容易和原型上的名称冲突。（除非手动的实现一个map集合）

> 若一些信息共同描述一个整体，且这些信息不能随意的增加后删除，使用对象来存储更合适。比如人的身高、年龄等
> 常更改的使用 map 集合更方便

1. 如何创建 map集合

```js
//set除了设置还有一堆、不重复的意思
//map除了地图以外还有映射的意思
const mp1 = new Map(); //创建一个空的map集合
const mp2 = new Map([
  ["a", 3],
  ["b", 4],
  ["c", 5],
]); //创建一个具有初始内容的集合。初始内容来自于可迭代对象每一次迭代的结果。
//但是它要求每一次迭代的结果必须是可迭代的对象（可以是一个长度为2的数组）。数组第一项表示键，数组第二项表示值
//即先迭代数组，将每一项拿出来；若拿出来的这一项不可迭代就报错，可迭代的话将第一项拿出来当作键、第二项拿出来当作值
```

2. 如何进行后续操作

- size：只读属性，获取当前 map 中键的数量
- set(键，值)：设置一个键值对，键和值可以是任何类型(和对象里面键值对的区别)
  - 如果键不存在，则添加一项。
  - 若键存在，则修改(覆盖它的值)----->因为键值对的键名不可重复
  - 比较键的原理是 Object.is()，和 set集合相同
- get(键名)：根据一个键得到对应的值
- has(键名)：判断某个键是否存在
- delete(键名)：删除指定的键，
- clear()：清空 map

3. 和数组互相转换

和 set集合 一样，map集合本身也是一个可迭代的对象，所以可以使用展开运算符展开map集合

4. 遍历

- for-of：每次迭代得到的是一个长度为 2 的数组
- forEach：通过回调函数遍历。和set集合一样
  - 参数 1：每一项的值value
  - 参数 2：每一项的键名key
  - 参数 3：map 本身

```js
const mp1 = new Map([
  ["a", 3],
  ["b", 4],
  ["c", 5],
  ["b", 9],
]);
console.log([...mp1]); //map集合和数组之间的相互转换
for (const [key, value] of mp1) {
  console.log(key, value); //对数组的解构
} //遍历map集合
mp1.forEach((value, key, mp) => {
  console.log(value, key, mp);
});
```
