<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //实现：一次得到斐波那契数列前面n位的值   1 1 2 3 5 8 ....
      //有的时候不能确定到底要使用多少位。这种场景适合迭代器
      //创建一个斐波那契数列的迭代器。取一个无限长的数据用迭代器最好。
      function createFeiboIterator() {
        let prev1 = 1,
          prev2 = 1, //前1位和前2位
          n = 1; //表示当前是斐波那契数列的第几位
        return {
          next() {
            let value;
            if (n <= 2) {
              value = 1;
            } else {
              value = prev1 + prev2;
            }
            const result = {
              value,
              done: false, //斐波那契数列是一个无限延伸下去的数列
            };
            prev2 = prev1;
            prev1 = result.value;
            n++;
            return result;
          },
        };
      }
      const iterator = createFeiboIterator();
    </script>
  </body>
</html>
