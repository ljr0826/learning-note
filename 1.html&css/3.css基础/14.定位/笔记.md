# 定位

视觉格式化模型，大体上将页面中盒子的排列方式分为三种方式：

1. 常规流

2. 浮动：float

3. 定位：position

定位是指：手动控制元素在包含块中的精准位置

涉及的 css 属性：position

## position 属性

- 默认值：static,静态定位（可以认为就是不定位）

- relative：相对定位

- absolute：绝对定位

- fixed：固定定位

一个元素，只要 position 的取值不是 static，认为该元素是一个定位元素。

定位元素会脱离文档流（浮动元素也会脱离文档流，相对定位除外）

一个脱离了文档流的元素有以下特点：

1. 文档流中的元素摆放时，会忽略脱离了文档流的元素

2. 文档流中元素计算自动高度时，会忽略脱离了文档流的元素

## 相对定位 relative

比较特殊，不会导致元素脱离文档流，只是让元素在原来位置上进行偏移（相对于出生的位置进行定位）

可以通过四个 css 属性对设置其位置：

- left

- right

- top

- bottom

四个方向矛盾时，取上不取下，取左不取右，但尽量不要这样

> 相对定位下，盒子的偏移不会对其他盒子的位置造成任何影响

## 绝对定位 absolute

1. 宽高为 auto，适应内容(和浮动相同)

2. 包含块(盒子的参考坐标系)变化：找祖先中第一个定位元素，该元素的填充盒（内容区）为其包含块；若找不到，则他的包含块为整个网页（初始化包含块）

（相对于据离自己最近的有定位的父级进行定位）

包含块：盒子的参考坐标系，即父级，决定了盒子的大体活动范围。

## 固定定位 fixed

其他情况和绝对定位完全一样

包含块(参考系)不同：固定定位为视口(浏览器的可视窗口)

应用：类似于广告、不动的导航区域

## 定位下的居中（绝对定位和固定定位下）

某个方向居中：

1. 定宽（高）

2. 将左右（上下）距离 left:0;right:0;设置为 0

3. 将左右（上下）margin 设置为 auto

> 绝对定位和固定定位中，margin 为 auto 时，会自动吸收剩余空间(和常规流很像了，常规流只有左右可以，上下不行)

## 多个定位元素重叠时

堆叠上下文(知识点比较复杂，见扩展课程)

设置 z-index，通常情况下，该值越大，越靠近用户

只有定位元素设置 z-index 有效

z-index 可以是负数，如果是负数，则遇到常规流、浮动元素，会被其覆盖

## 补充

- 绝对定位 absolute、固定定位 fixed 元素一定是块盒(相对定位 relative 不会改变盒子的特征，该是什么就是什么，不会变为行盒)

- 绝对定位、固定定位元素一定不是浮动(常规流、浮动、定位不会重复使用，不会说既是浮动又是定位)

- 没有外边距合并
