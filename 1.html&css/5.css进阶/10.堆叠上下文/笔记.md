# 堆叠上下文

堆叠/层叠/栈上下文(stack context)，它是一块区域，这块区域由某个元素创建，它规定了该区域中的元素在 z 轴上排列的先后顺序

- z-index 只有在定位元素中有效

- z-index 的默认值为 auto

## 创建堆叠上下文的元素

1. html 元素(根元素)。保证整个网页都在它的笼罩下

2. 设置了 z-index(非 auto)数值的定位元素(z-index 只有在定位元素中有效)

## 同一个堆叠上下文中元素在 z 轴上的排列

从后到前的排列顺序(同种情况下多种元素，后者居上)：

1. 创建堆叠上下文的元素的背景和边框

2. 堆叠级别(stack level，即 z-index)为负值的堆叠上下文

3. 常规流非定位的块盒。position 的取值是 static

4. 非定位的浮动元素

5. 常规流非定位的行盒

6. 任何 z-index 是 auto 的定位子元素，以及 z-index 是 0 的堆叠上下文

7. 堆叠级别为正值的堆叠上下文

每个堆叠上下文，独立于其他堆叠上下文。他们之间不能相互穿插(以创建堆叠上下文的元素为整体看)。
