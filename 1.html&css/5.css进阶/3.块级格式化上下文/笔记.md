# 块级格式化上下文

学习本节课之后会从更高的角度学习常规流盒子的渲染。会影响到整个网站的布局，面试常考

全称 Block Formatting Context,简称 BFC

他是一块独立的渲染区域，规定了在该区域中，常规流块盒的布局。即本节课关注点是常规流块盒

- 它规定了在该区域中，常规流块盒的布局

1. 常规流块盒在水平方向上必须撑满包含块
2. 常规流块盒在垂直方向上依次摆放
3. 常规流块盒若外边距无缝相连，则进行外边距 margin 合并
4. 常规流块盒的自动高度和摆放位置，无视浮动元素

- BFC 渲染区域

这个区域由某个 HTML 元素创建，以下元素会在其内部创建 BFC 区域：

1. 根元素：意味着<html>元素创建的 BFC 区域，覆盖了网页中所有的元素
2. 浮动和绝对、固定定位元素
3. overflow 不等于 visiable 的块盒。还有不常见的表格元素、行块盒等

> overflow 属性值有：hidden、auto、scroll、visiable

<img src="./img/BFC渲染区域示例.jpg">

- 独立的

不同的 BFC 区域，渲染时互不干扰；
创建 BFC 的元素，隔绝了它内部和外部的联系，内部的渲染不会影响到外部；具体规则如下：

1. 创建 BFC 的元素，它的自动高度需要计算浮动元素(高度坍塌的另一种解决方式。但是仅从清除浮动的角度上看更推荐 clear:both;)
   ！只是浮动元素，不考虑绝对定位、固定定位等。浮动定位和常规流 还有点联系，绝对定位固定定位完全脱离文档流了

```css
.container {
  width: 800px;
  background-color: rgb(146, 230, 233);
  /* float: left; */
  /* position: absolute; */
  /* position: fixed; */
  /*副作用最小的方式：*/
  overflow: hidden;
  /* overflow: scroll; */
  /* overflow: auto; */
}
```

2. 创建 BFC 的元素，它的边框盒不会与浮动元素重叠。(解决常规流元素排列时忽略浮动元素而覆盖的现象)
3. 创建 BFC 的元素，不会和它的子元素进行外边距合并/不同 bfc 内不会发生外边距合并

> 绝对定位、固定定位会会完全脱离文档流，所以自动高度一定不会计算他们在内

浮动的块虽然脱离的正常的文档流，但是还会占有正常文档流的文本空间 ; float 只是脱离了文档流的 dom 空间但是还占据着文字空间 -----from CSDN
