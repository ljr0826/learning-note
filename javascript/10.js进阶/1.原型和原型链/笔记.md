# 原型和原型链

- 所有对象都是通过 `new 函数`创建的

<img src="./图例/普通对象是通过new 函数创建的.jpg" alt="" />

- 所有的函数也是对象

  - 函数中可以有属性`Number.isNaN()`、`Array.from()`

- 所有对象都是引用类型

## 原型 prototype

所有函数都有一个属性：prototype，称之为函数原型

默认情况下，prototype 是一个普通的 Object 对象

默认情况下，prototype 中有一个属性，constructor，它也是一个对象，它指向构造函数本身

<img src="./图例/原型中的constructor指向函数本身.jpg" alt="" />

## 隐式原型 `__proto__`

所有的对象都有一个属性：`__proto__`，称之为隐式原型

默认情况下，隐式原型指向创建该对象的函数的原型

```js
function test() {
  // return {}; //obj.__proto__ === Object.prototype
}
var obj = new test(); //obj.__proto__ === test.prototype
```

当访问一个对象的成员时：

1. 看该对象自身是否拥有该成员，如果有直接使用

2. 在原型链中依次查找是否拥有该成员，如果有直接使用

<img src="./图例/隐式原型的指向.jpg" alt="" />

猴子补丁：在函数原型链中加入成员，以增强起对象的功能，猴子补丁会导致原型污染，使用时需慎重

## 原型链（隐式原型的指向形成的链条）

<img src="./图例/链条的全貌.jpg" alt="" />

特殊点：

1. Function 的`__proto__`指向自身的 prototype

`Function.__proto__ === Function.prototype`

2. Object 的 prototype 的`__proto__`指向 null

`Object.prototype.__proto__ === null`
