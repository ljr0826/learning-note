<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="../../plugin/helper.js"></script>
    <script>
      //函数管道：将多个单参函数组合起来，形成一个新的函数，这些函数中，前一个函数的输出(返回值)是后一个函数的输入(参数)
      //前提条件：单参
      //将字符串中每一个单词的首字母大写
      function everyFirstLetterUp(str) {
        return str.replace(/\b(\w)(\w*)\b/g, function ($, $1, $2) {
          return $1.toUpperCase() + $2;
        });
      }
      //将字符串中除首字母外的其他字母小写
      function otherLetterLower(str) {
        return str.replace(/\b(\w)(\w*)\b/g, function ($, $1, $2) {
          return $1 + $2.toLowerCase();
        });
      }
      //去掉字符串中的所有空白字符
      function removeEmpty(str) {
        return str.replace(/\s+/g, "");
      }
      //将字符串中第一个单词字母小写
      function firstLetterLower(str) {
        return str.replace(/\w/, function ($) {
          return $.toLowerCase();
        });
      }
      //截取字符串
      function curString(number, str) {
        return str.substr(0, number);
      }
      //将一个字符串变成小驼峰命名法
      var str = "He    haS my lIfe and my  diViNity";
      //   str = everyFirstLetterUp(str);
      //   str = otherLetterLower(str);
      //   str = removeEmpty(str);
      //   str = firstLetterLower(str);
      //   console.log(str);
      var pipe = function () {
        var args = Array.from(arguments);
        return function (str) {
          args.reduce(function (result, func) {}, str);
          //   for (var i = 0; i < args.length; i++) {
          //     var func = args[i];
          //     str = func(str);
          //   }
          //   return str;
        };
      };
      var smallCamel = pipe(
        everyFirstLetterUp,
        otherLetterLower,
        removeEmpty,
        firstLetterLower,
        myPlugin.curry(curString, 10)
      );
      console.log(smallCamel(str));
    </script>
  </body>
</html>
