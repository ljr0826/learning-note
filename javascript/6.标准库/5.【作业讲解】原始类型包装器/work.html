<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="../../common/BetterFunction.js"></script>
    <script>
      //         以下练习可以使用之前书写的通用函数

      // 1. 找到某个字符串中出现最多的字符，打印字符和它出现的次数

      // var str = "wretykjmnbvdadsdtfuygkhjmnbfvds";
      // var strArr = str.split("");
      // //或Array.from(str)
      // console.log(strArr);
      // var result = MyFunctions.getTopFreqInArray(strArr);
      // console.log(result);

      // //简化后
      // var str = "wretykjmnbvdadsdtfuygkhjmnbfvds";
      // console.log(MyFunctions.getTopFreqInArray(Array.from(str)));

      // 2. 将一个字符串中单词之间的空格去掉，然后把每个单词首字母转换成大写

      // 比如："hello world" -> "HelloWorld" 大驼峰命名法

      // var str =
      //   "The more you take, the more full your hands become, the more difficult it becomes";

      // var arr1 = str.split(" ");
      // console.log(arr1);
      // var newArr = arr1.map(function (temp) {
      //   return temp.charAt(0).toUpperCase() + temp.substring(1);
      // });
      // var newStr = newArr.join("");
      // console.log(newStr);

      //简化后
      // function bigHump(str) {
      //   return str.split(" ").map(function (temp) {
      //     return temp[0].toUpperCase() + temp.substring(1);
      //   });
      // }
      // var str =
      //   "The more you take, the more full your hands become, the more difficult it becomes";
      // console.log(bigHump(str));

      // 3. 书写一个函数，产生一个指定长度的随机字符串，字符串中只能包含大写字母、小写字母、数字
      //ascii码：数字48-57，大写字母65-90，小写字母97-122
      function getStr(length) {
        var str = "";
        //依次产生length个字符串
        for (var i = 1; i <= length; i++) {
          var rat = Math.random();
          var code;
          if (rat > 0.666) {
            code = MyFunctions.getRandom(97, 123);
          } else if (rat < 0.333) {
            code = MyFunctions.getRandom(65, 91);
          } else {
            code = MyFunctions.getRandom(48, 58);
          }
          str += String.fromCharCode(code);
        }
        console.log(str);
      }
      getStr(44);

      // 袁老师思路
      function getRandomString(len) {
        var template = "";
        for (var i = 65; i < 65 + 26; i++) {
          template += String.fromCharCode(i);
        }
        for (var i = 97; i < 97 + 26; i++) {
          template += String.fromCharCode(i);
        }
        for (var i = 48; i < 48 + 10; i++) {
          template += String.fromCharCode(i);
        }

        var result = "";
        for (var i = 0; i < len; i++) {
          //从模板中随机取出一位字符
          var index = MyFunctions.getRandom(0, template.length - 1);
          result += template[index];
        }
        return result;
      }

      console.log(getRandomString(20));

      // 4. 将字符串按照字符编码的顺序重新升序排序

      // 如果是降序

      // function desc(str) {
      //   var strArr = str.split("");
      //   var descStr = strArr.sort().reverse().join("");
      //   console.log(descStr);
      // }
      // desc("serdfghjhngfdf");

      // //简化后
      // var str = "erthgfdddghfgds";
      // console.log(Array.from(str).sort().reverse());

      // 5. 从一个标准的身份证号中取出用户的出生年月日和性别，保存到对象中

      // 例如，"524713199703020014"

      // 得到对象：
      // birthYear: 1997
      // birthMonth: 3
      // birthDay: 2
      // gender: "男" // 性别看倒数第二位，奇数为男，偶数为女

      // function User(ID) {
      //   return {
      //     birthYear: ID.slice(6, 10),
      //     birthMonth: parseInt(ID.slice(10, 12)),
      //     birthDay: parseInt(ID.slice(12, 14)),
      //     gender: ID.slice(-2, -1) % 2 === 1 ? "男" : "女",
      //   };
      // }
      // console.log(User("524713199703020014"));
    </script>
  </body>
</html>
