<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #box {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 100px;
        left: 100px;
        background-color: green;
      }
    </style>
  </head>
  <body>
    <div id="box"></div>
    <script>
      const manageCookie = {
        //设置cookie
        set: function (name, value, date) {
          //expires 要求用户传入的是一个时间节点，函数默认规定传进来的是天数
          //   let endDate = new Date();
          //   endDate.setDate(endDate.getDate() + date); //设置setDate为过期时间点
          //   document.cookie = `${name}=${value}; expires=${endDate}`;

          //max-age相对简单的多,要求传入的时间单位是秒
          document.cookie = `${name}=${value}; max-age=${date}`;
        },
        //移除cookie
        remove: function (name) {
          //只需要把时间设置为0
          this.set(name, "", 0);
          console.log(this);
        },
        //获取cookie
        get: function (name) {
          let cookies = document.cookie.split("; ");
          cookies.forEach((item) => {
            let index = item.split("=");
            // console.log(index);
            if (index[0] === name) {
              console.log(`name:${index[1]}`);
            }
          });
        },
      };
      manageCookie.set("width", "30px", 3000);
      manageCookie.set("height", "30px", 10000);
      //   manageCookie.remove("width", "", 0);
      manageCookie.get("height");

      //拖拽
      //原理：鼠标抬起时利用cookie记录当前位置，赋值给行内样式
      const drag = {
        init(dom) {
          this.dom = dom;
          this.bindEvent();
        },
        bindEvent() {
          this.dom.onmousedown; //？继续？
        },
      };

      drag.init(document.getElementById("box"));
    </script>
  </body>
</html>
